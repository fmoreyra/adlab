ðŸ§ª Running full Django test suite...


0 static files copied to '/public_collected', 135 unmodified, 374 post-processed.
Using custom test runner: config.test_runner.DockerTestRunner
TESTING mode enabled - Celery will run synchronously
Found 568 test(s).
Setting up test databases with custom runner...
Creating test database for alias 'default'...
System check identified no issues (0 silenced).
............................................................................................................................................................................Performance: aging_view
  Total time: 0.029s
  Query count: 0
  Query time: 0s
  Avg query time: 0.0s

Aging View Performance:
  Response time: 0.029s
  Query count: 0
  Query time: 0s
.Performance: alerts_view
  Total time: 0.026s
  Query count: 0
  Query time: 0s
  Avg query time: 0.0s

Alerts View Performance:
  Response time: 0.026s
  Query count: 0
  Query time: 0s
Performance: wip_first_request
  Total time: 0.025s
  Query count: 0
  Query time: 0s
  Avg query time: 0.0s
Performance: wip_second_request
  Total time: 0.003s
  Query count: 0
  Query time: 0s
  Avg query time: 0.0s

Cache Effectiveness:
  First request: 0.025s
  Second request: 0.003s
  Speed improvement: 8.3x
.Performance: wip_threshold_test
  Total time: 0.027s
  Query count: 0
  Query time: 0s
  Avg query time: 0.0s
Performance: volume_threshold_test
  Total time: 0.003s
  Query count: 0
  Query time: 0s
  Avg query time: 0.0s
Performance: productivity_threshold_test
  Total time: 0.003s
  Query count: 0
  Query time: 0s
  Avg query time: 0.0s
Performance: aging_threshold_test
  Total time: 0.003s
  Query count: 0
  Query time: 0s
  Avg query time: 0.0s
Performance: alerts_threshold_test
  Total time: 0.003s
  Query count: 0
  Query time: 0s
  Avg query time: 0.0s

Performance Summary:
  wip: 0.027s, 0 queries
  volume: 0.003s, 0 queries
  productivity: 0.003s, 0 queries
  aging: 0.003s, 0 queries
  alerts: 0.003s, 0 queries
..Performance: productivity_view
  Total time: 0.037s
  Query count: 0
  Query time: 0s
  Avg query time: 0.0s

Productivity View Performance:
  Response time: 0.037s
  Query count: 0
  Query time: 0s
Performance: volume_view
  Total time: 0.026s
  Query count: 0
  Query time: 0s
  Avg query time: 0.0s

Volume View Performance:
  Response time: 0.026s
  Query count: 0
  Query time: 0s
..Performance: wip_view
  Total time: 0.035s
  Query count: 0
  Query time: 0s
  Avg query time: 0.0s

WIP View Performance:
  Response time: 0.035s
  Query count: 0
  Query time: 0s
......................................................................................................................................................................................................................................................................................................................................................................................................
----------------------------------------------------------------------
Ran 568 tests in 284.594s

OK
Destroying test database for alias 'default'...
Tearing down test databases with custom runner...
Traceback (most recent call last):
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
           ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/psycopg/cursor.py", line 97, in execute
    raise ex.with_traceback(None)
psycopg.errors.ObjectInUse: database "test_adlab" is being accessed by other users
DETAIL:  There are 49 other sessions using the database.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/manage.py", line 23, in <module>
    main()
    ~~~~^^
  File "/app/src/manage.py", line 19, in main
    execute_from_command_line(sys.argv)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
    ~~~~~~~~~~~~~~~^^
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/commands/test.py", line 24, in run_from_argv
    super().run_from_argv(argv)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/commands/test.py", line 63, in handle
    failures = test_runner.run_tests(test_labels)
  File "/home/python/.local/lib/python3.14/site-packages/django/test/runner.py", line 1106, in run_tests
    self.teardown_databases(old_config)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/app/src/config/test_runner.py", line 46, in teardown_databases
    super().teardown_databases(old_config, **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/test/runner.py", line 1034, in teardown_databases
    _teardown_databases(
    ~~~~~~~~~~~~~~~~~~~^
        old_config,
        ^^^^^^^^^^^
    ...<2 lines>...
        keepdb=self.keepdb,
        ^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/python/.local/lib/python3.14/site-packages/django/test/utils.py", line 379, in teardown_databases
    connection.creation.destroy_test_db(old_name, verbosity, keepdb)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/base/creation.py", line 311, in destroy_test_db
    self._destroy_test_db(test_database_name, verbosity)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/postgresql/creation.py", line 91, in _destroy_test_db
    return super()._destroy_test_db(test_database_name, verbosity)
           ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/base/creation.py", line 327, in _destroy_test_db
    cursor.execute(
    ~~~~~~~~~~~~~~^
        "DROP DATABASE %s" % self.connection.ops.quote_name(test_database_name)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
           ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/psycopg/cursor.py", line 97, in execute
    raise ex.with_traceback(None)
django.db.utils.OperationalError: database "test_adlab" is being accessed by other users
DETAIL:  There are 49 other sessions using the database.
make: *** [test] Error 1
