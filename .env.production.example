# Production Environment Configuration for Laboratory System
# Copy this to .env and customize for your production server

# ============================================================================
# CRITICAL: Change these values before deploying!
# ============================================================================

# Django Settings
SECRET_KEY=CHANGE_THIS_TO_A_RANDOM_SECRET_KEY
DEBUG=False
ALLOWED_HOSTS=your-domain.com,www.your-domain.com

# Domain Configuration
DOMAIN_NAME=your-domain.com

# ============================================================================
# Docker Compose Configuration
# ============================================================================

COMPOSE_PROJECT_NAME=laboratory
COMPOSE_PROFILES=postgres,redis,web,worker,beat,nginx

# ============================================================================
# Database Configuration
# ============================================================================

POSTGRES_USER=lab_user
POSTGRES_PASSWORD=CHANGE_THIS_TO_A_STRONG_PASSWORD
POSTGRES_DB=laboratory_db

# ============================================================================
# Email Configuration (Configure SMTP for production)
# ============================================================================

# Development (console backend - emails printed to logs)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# Production (uncomment and configure when ready)
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
# EMAIL_HOST=smtp.unl.edu.ar
# EMAIL_PORT=587
# EMAIL_HOST_USER=laboratorio@fcv.unl.edu.ar
# EMAIL_HOST_PASSWORD=your-email-password
# EMAIL_USE_TLS=True

DEFAULT_FROM_EMAIL=laboratorio@fcv.unl.edu.ar

# ============================================================================
# Security Settings (Production)
# ============================================================================

SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SECURE_SSL_REDIRECT=False  # Nginx handles SSL redirect
SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https

# ============================================================================
# Redis Configuration
# ============================================================================

REDIS_URL=redis://redis:6379/0

# ============================================================================
# Celery Configuration
# ============================================================================

CELERY_BROKER_URL=redis://redis:6379/0
CELERY_LOG_LEVEL=info

# ============================================================================
# Docker Resource Limits
# ============================================================================

# Web Service
DOCKER_WEB_CPUS=1.0
DOCKER_WEB_MEMORY=1G
DOCKER_WEB_PORT_FORWARD=  # Empty - Nginx handles external access

# PostgreSQL
DOCKER_POSTGRES_CPUS=1.0
DOCKER_POSTGRES_MEMORY=2G

# Redis
DOCKER_REDIS_CPUS=0.5
DOCKER_REDIS_MEMORY=512M

# Celery Worker
DOCKER_WORKER_CPUS=1.0
DOCKER_WORKER_MEMORY=1G

# Celery Beat
DOCKER_BEAT_CPUS=0.25
DOCKER_BEAT_MEMORY=256M

# Nginx
DOCKER_NGINX_CPUS=0.5
DOCKER_NGINX_MEMORY=256M

# ============================================================================
# Restart Policy
# ============================================================================

DOCKER_RESTART_POLICY=unless-stopped
