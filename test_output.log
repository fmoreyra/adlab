ðŸ§ª Running full Django test suite...


0 static files copied to '/public_collected', 135 unmodified, 374 post-processed.
Using custom test runner: config.test_runner.DockerTestRunner
TESTING mode enabled - Celery will run synchronously
Found 568 test(s).
Setting up test databases with custom runner...
Dropped existing test database: test_adlab
Creating test database for alias 'default'...
Traceback (most recent call last):
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
           ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/psycopg/cursor.py", line 97, in execute
    raise ex.with_traceback(None)
psycopg.errors.DeadlockDetected: deadlock detected
DETAIL:  Process 11449 waits for ShareRowExclusiveLock on relation 548979 of database 548776; blocked by process 11448.
Process 11448 waits for RowExclusiveLock on relation 549075 of database 548776; blocked by process 11449.
HINT:  See server log for query details.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/manage.py", line 23, in <module>
    main()
    ~~~~^^
  File "/app/src/manage.py", line 19, in main
    execute_from_command_line(sys.argv)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
    ~~~~~~~~~~~~~~~^^
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/commands/test.py", line 24, in run_from_argv
    super().run_from_argv(argv)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/commands/test.py", line 63, in handle
    failures = test_runner.run_tests(test_labels)
  File "/home/python/.local/lib/python3.14/site-packages/django/test/runner.py", line 1092, in run_tests
    old_config = self.setup_databases(
        aliases=databases,
        serialized_aliases=suite.serialized_aliases,
    )
  File "/app/src/config/test_runner.py", line 33, in setup_databases
    return super().setup_databases(**kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/test/runner.py", line 990, in setup_databases
    return _setup_databases(
        self.verbosity,
    ...<5 lines>...
        **kwargs,
    )
  File "/home/python/.local/lib/python3.14/site-packages/django/test/utils.py", line 204, in setup_databases
    connection.creation.create_test_db(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        verbosity=verbosity,
        ^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        serialize=False,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/base/creation.py", line 78, in create_test_db
    call_command(
    ~~~~~~~~~~~~^
        "migrate",
        ^^^^^^^^^^
    ...<3 lines>...
        run_syncdb=True,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/__init__.py", line 194, in call_command
    return command.execute(*args, **defaults)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/base.py", line 107, in wrapper
    res = handle_func(*args, **kwargs)
  File "/home/python/.local/lib/python3.14/site-packages/django/core/management/commands/migrate.py", line 353, in handle
    post_migrate_state = executor.migrate(
        targets,
    ...<3 lines>...
        fake_initial=fake_initial,
    )
  File "/home/python/.local/lib/python3.14/site-packages/django/db/migrations/executor.py", line 135, in migrate
    state = self._migrate_all_forwards(
        state, plan, full_plan, fake=fake, fake_initial=fake_initial
    )
  File "/home/python/.local/lib/python3.14/site-packages/django/db/migrations/executor.py", line 167, in _migrate_all_forwards
    state = self.apply_migration(
        state, migration, fake=fake, fake_initial=fake_initial
    )
  File "/home/python/.local/lib/python3.14/site-packages/django/db/migrations/executor.py", line 252, in apply_migration
    with self.connection.schema_editor(
         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        atomic=migration.atomic
        ^^^^^^^^^^^^^^^^^^^^^^^
    ) as schema_editor:
    ^
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/base/schema.py", line 169, in __exit__
    self.execute(sql, None)
    ~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/python/.local/lib/python3.14/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
           ~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/python/.local/lib/python3.14/site-packages/psycopg/cursor.py", line 97, in execute
    raise ex.with_traceback(None)
django.db.utils.OperationalError: deadlock detected
DETAIL:  Process 11449 waits for ShareRowExclusiveLock on relation 548979 of database 548776; blocked by process 11448.
Process 11448 waits for RowExclusiveLock on relation 549075 of database 548776; blocked by process 11449.
HINT:  See server log for query details.
make: *** [test] Error 1
